
String toCurrency(dynamic amount) {
  if (amount is int || amount is double) {
    return formatter.format(amount);
  } else if (amount is String) {
    final sanitized = amount.replaceAll(',', ''); // Remove commas
    final parsed = num.tryParse(sanitized);
    if (parsed != null) {
      return formatter.format(parsed);
    }
    throw ArgumentError('Invalid input: $amount is not a valid number');
  } else {
    throw ArgumentError('Invalid type: ${amount.runtimeType}. Supported types: int, double, String');
  }
}